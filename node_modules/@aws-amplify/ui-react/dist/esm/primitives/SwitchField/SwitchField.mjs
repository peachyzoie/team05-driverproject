import{__rest as e}from"tslib";import*as a from"react";import r from"classnames";import{classNameModifierByFlag as s,classNameModifier as t}from"../shared/utils.mjs";import{ComponentClassNames as i}from"../shared/constants.mjs";import{Flex as o}from"../Flex/Flex.mjs";import"../Field/FieldClearButton.mjs";import"../Field/FieldDescription.mjs";import{FieldErrorMessage as l}from"../Field/FieldErrorMessage.mjs";import{Input as c}from"../Input/Input.mjs";import{Label as d}from"../Label/Label.mjs";import{useStableId as m}from"../utils/useStableId.mjs";import{useSwitch as n}from"./useSwitch.mjs";import{View as h}from"../View/View.mjs";import{VisuallyHidden as b}from"../VisuallyHidden/VisuallyHidden.mjs";const p=a.forwardRef(((p,u)=>{var{className:k,defaultChecked:f,id:C,isChecked:w,isDisabled:S,isLabelHidden:F,label:j,labelPosition:g,name:E,onChange:N,size:T,thumbColor:H,trackCheckedColor:L,trackColor:v,value:x,hasError:y,errorMessage:D}=p,I=e(p,["className","defaultChecked","id","isChecked","isDisabled","isLabelHidden","label","labelPosition","name","onChange","size","thumbColor","trackCheckedColor","trackColor","value","hasError","errorMessage"]);const{isOn:M,changeHandler:V,isFocused:z,setIsFocused:B}=n({onChange:N,isChecked:w,defaultChecked:f,isDisabled:S}),O=m(C),P=F?b:h,W=r(i.SwitchTrack,s(i.SwitchTrack,"checked",M),s(i.SwitchTrack,"disabled",S),s(i.SwitchTrack,"focused",z),s(i.SwitchTrack,"error",y)),R=r(i.SwitchThumb,s(i.SwitchThumb,"checked",M),s(i.SwitchThumb,"disabled",S));return a.createElement(o,Object.assign({className:r(i.SwitchField,t(i.SwitchField,T),k),"data-size":T,"data-label-position":g,ref:u},I),a.createElement(b,null,a.createElement(c,{role:"switch",type:"checkbox",id:O,onChange:V,disabled:S,name:E,checked:M,value:x,onFocus:()=>{B(!0)},onBlur:()=>{B(!1)}})),a.createElement(d,{htmlFor:O,className:r(i.SwitchWrapper,t(i.SwitchWrapper,g)),"data-label-position":g},a.createElement(P,{as:"span",className:i.SwitchLabel},j),a.createElement(h,{as:"span",className:W,"data-checked":M,"data-disabled":S,"data-focused":z,backgroundColor:M?L:v},a.createElement(h,{as:"span",className:R,"data-checked":M,"data-disabled":S,backgroundColor:H}))),a.createElement(l,{hasError:y,errorMessage:D}))}));p.displayName="SwitchField";export{p as SwitchField};
